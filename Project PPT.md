![0001](https://user-images.githubusercontent.com/63702924/126042315-d184b689-2611-4f62-aa0e-3e2f16f05d55.jpg)

![0002](https://user-images.githubusercontent.com/63702924/126042316-d94fb719-ce6a-44a8-8682-e734b576ea0f.jpg)
이번에 제가 선정한 주제는, 네이버 쇼핑 홈페이지에서 크롤링한 리뷰 데이터를 이용하여 그 안에 담겨 있는 긍정적이거나 부정적인 감정을 찾아내는 것입니다. 보통 사람들은 리뷰를 남길 때, 자신의 만족도에 비례해서 별점을 남깁니다. 하지만 종종 그렇지 않는 경우도 있는데, 별점을 낮게 주면 판매자가 그 리뷰를 삭제하거나 신고를 하는 경우도 있어서, 부정적인 평가를 하기 위해서 별점을 높게 주고 부정적인 리뷰를 남기기도 합니다. 그래서 별점만으로 리뷰를 분류하면 그 리뷰가 실제로 긍정적인 내용인지 부정적인 내용인지 한번에 파악하기가 어려운 경우도 있습니다. 그래서 자연어 처리와 딥러닝을 활용하여 리뷰 내용 자체를 분석하고, 리뷰에 담긴 감정들을 파악해 보는 과정을 직접 실행해 보았습니다.

![0003](https://user-images.githubusercontent.com/63702924/126042318-2b8e7360-99c6-4036-9b59-4846c373eb06.jpg)
제가 이번 프로젝트에 사용한 데이터입니다. 네이버 쇼핑 홈페이지에서 수집한 제품별 후기 데이터 중에서, 별점 3점인 리뷰를 제외하고 수집된 데이터입니다. 별점 3점의 경우는 긍정도 부정도 아닌 애매한 데이터라고 판단했기 때문에 제외하였습니다.

![0004](https://user-images.githubusercontent.com/63702924/126042319-a304a40b-4bf6-419a-b6cb-4ab856a217bf.jpg)
데이터 분석 목표입니다. 첫째, 두 가지의 한국어 형태소 분석기를 사용하여 리뷰 데이터를 토큰화 해보고, 어떤 분석기가 더 나은지 파악한 후 이후의 작업을 수행합니다. 둘째, 토큰화한 리뷰 데이터를 시각화하여 어떤 단어가 리뷰에 많이 쓰이는지 알아봅니다. 셋째, 딥러닝 모델을 사용하여 데이터를 분류하고, 테스트 문장을 통해 리뷰가 긍정적인 내용인지 부정적인 내용인지 예측해봅니다.

![0005](https://user-images.githubusercontent.com/63702924/126042322-13f3513f-b1d3-41ef-8be8-f85a39c465a7.jpg)
전처리 과정입니다. 먼저 중복 데이터를 제거한 후, 별점을 이용하여 라벨링 작업을 해 주었습니다. 정규표현식을 사용하여 한글 이외의 문자들을 모두 제거해 주었고, 한국어 형태소 분석기인 Okt와 Mecab을 사용하여 토큰화를 진행했습니다.
![0014](https://user-images.githubusercontent.com/63702924/126042459-cc991bdd-f37e-4dfc-8aff-e67c71f2bdd1.jpg)

![0006](https://user-images.githubusercontent.com/63702924/126042323-08fc222b-1c2a-415a-b73c-6b8d240d1e20.jpg)
Mecab으로 토큰화한 리뷰 데이터를 Wordcloud 패키지를 통해 시각화한 결과입니다. 어간과 어미가 모두 분리되어 한눈에 알아보기는 조금 힘든 부분이 있습니다. 부정 리뷰에는 '안', 긍정 리뷰에는 '잘'과 같은 단어들이 많이 등장하는 것을 볼 수 있습니다.

![0007](https://user-images.githubusercontent.com/63702924/126042324-94cea115-8dd9-44b0-bc5e-3f6f8a338a4d.jpg)
Okt로 토큰화한 데이터를 시각화한 결과입니다. 부정 리뷰에는 '안', '너무', '별로'와 같은 단어가, 긍정 리뷰에는 '잘', '좋아요'와 같은 단어가 많이 나오는 것을 알 수 있습니다.

![0008](https://user-images.githubusercontent.com/63702924/126042326-486f4951-fb28-4fd4-804f-f5e61a29f85c.jpg)
두 가지 분석기로 토큰화한 결과를 비교했을 때, Mecab은 토큰화 진행 중에서 속도가 매우 빨랐지만 어간과 어미를 모두 분리하기 때문에 한눈에 의미를 확실히 파악하기가 어렵습니다. 반면 Okt는 속도는 Mecab보다 다소 느리지만 사람이 이해하기 쉬운 정도로 문장을 분리하고, 경우에 따라서는 오타를 수정해서 사전에 나오는 형태로 단어를 변형해서 표현하기 때문에 의미를 확실하게 파악하기 쉬웠습니다. 그래서 딥러닝 학습을 위한 데이터로는 Okt를 통해 토큰화한 리뷰 데이터를 사용했습니다.

![0009](https://user-images.githubusercontent.com/63702924/126042327-db4b1345-f9b4-4761-8ea2-c7ef829fef83.jpg)
딥러닝 모델 학습을 위해서 두 가지 모델을 사용했습니다. GRU 모델과 LSTM 모델을 사용했고, 각각 정확도는 0.91 이상을 보였습니다.

![0010](https://user-images.githubusercontent.com/63702924/126042330-8fd221b1-ec8e-4457-b3d6-0022edcff839.jpg)
딥러닝 모델과의 비교를 위해 머신러닝 모델을 두 가지 사용했습니다. Random Forest 모델과 Logistic Regression 모델을 사용했으며, 정확도는 각각 0.69와 0.52로 나타났습니다.

![0011](https://user-images.githubusercontent.com/63702924/126042331-831d9f9e-ce49-40e0-87cd-b47e14d71c89.jpg)
앞에서 학습시킨 모델을 사용해서, 실제 리뷰 데이터를 넣어 긍정 리뷰인지 부정 리뷰인지를 예측해 보았습니다. 정확도가 가장 높았던 GRU 모델에서는 매우 높은 확률로 긍정, 부정 여부를 정확하게 예측했습니다. 그런데 LSTM 모델에서는 긍정 리뷰를 제대로 예측하지 못했습니다.

![0012](https://user-images.githubusercontent.com/63702924/126042332-e1cd7684-17db-4943-992a-4448ae0ae13e.jpg)
머신러닝 모델들을 사용했을 때는, 긍정인지 부정인지 여부를 제대로 예측하지 못했습니다. 확률도 항상 100퍼센트가 나오는 것으로 보아 감정 분석에는 머신러닝 모델을 사용하는 것이 적절하지 않다는 것을 알 수 있었습니다.

![0013](https://user-images.githubusercontent.com/63702924/126042334-62223285-3cd0-4ea0-90b4-306d55a978de.jpg)
전체 프로젝트를 수행 후 내린 결론입니다. 감성 분석을 위해 토큰화를 할 때는 okt를 사용하는 것이 좋습니다. 또한 긍정적인 리뷰에서는 '좋아요', '잘'과 같은 긍정적인 단어들이 많이 나타나고, '부정적인 리뷰에서는 '너무', '안'과 같은 단어가 많이 나타났습니다. 이러한 단어들이 감성 분석에 많은 영향을 미쳤을 것으로 예측할 수 있습니다. 또한 GRU 모델에서는 감성분석이 잘 되었지만 LSTM 모델에서는 그렇지 않았던 것으로 보아, 리뷰 데이터에 LSTM 모델을 학습시켰을 때 감성 분석이 제대로 되지 않는 요인이 있을 것이라고 생각합니다. 이번 프로젝트에서는 제가 그 원인을 파악하지 못했지만, 그 점을 알게 된다면 프로젝트의 완성도가 더 높아졌을 것이라고 생각해서 조금 아쉬운 점이 남습니다. 이후에 추가 프로젝트를 실행하여 오류 원인을 분석하고, 해결해 보고자 합니다. 

![0014](https://user-images.githubusercontent.com/63702924/126042465-cbcba3f1-772a-4e93-8897-ae0ff0bb59f1.jpg)

